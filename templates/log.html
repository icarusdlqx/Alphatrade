{% extends "base.html" %}
{% block content %}
<h4>Trading Log</h4>
<p class="muted">Real-time trading activity and system events. Most recent entries first.</p>
<table role="grid">
  <thead><tr><th>Time</th><th>Level</th><th>Event</th><th>Detail</th></tr></thead>
  <tbody>
    {% for r in rows %}
      <tr class="lev-{{ r.level }}">
        <td>{{ r.at.strftime("%m/%d %H:%M:%S ET") if r.at else r.at }}</td>
        <td>{{ r.level }}</td>
        <td>
          {% if r.event == 'outside_window' %}<strong>Outside Trading Window</strong>
          {% elif r.event == 'market_closed_or_near_bell' %}<strong>Market Closed</strong>
          {% elif r.level == 'ORDER' %}<strong>Order Submitted</strong>
          {% elif r.event == 'run_start' %}<span>Analysis Started</span>
          {% else %}{{ r.event|replace('_',' ')|title }}{% endif %}
        </td>
        <td><code style="white-space:pre-wrap">{{ r.detail }}</code></td>
      </tr>
    {% else %}
      <tr><td colspan="4">No log entries yet.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}